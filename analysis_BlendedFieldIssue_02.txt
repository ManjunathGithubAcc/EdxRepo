actionFunction searchServer action: doSearch function calls runSearch in controller.

Uses:
1791, 1812 

soql property used to form a String and then passed to a database.query();

03:18:23.0 (49276577)|USER_DEBUG|[1828]|DEBUG|The final query that ran Select Name,Id,Pricebook2Id,Product2Id, Product2.Family, Product2.Name, Product2.Product_Group__c, Product2.Division__c, Product2.Platform_Group__c, Product2.Product_Platform__c, Product2.Services__c, Product2.Hybrid_Cloud__c,Product2.Pipeline_Product_Group__c from PriceBookEntry where IsActive = true AND Product2.IsSFA_PRM_Product__c = true AND priceBook2.isStandard = false AND Product2.Product_Platform__c != null AND CurrencyISOCode = 'USD'AND Pricebook2Id = '01s80000000dGO5AAM' AND ( Product2.Platform_Group__c like '%ns%'  OR Product2.Product_Group__c like '%ns%'  OR Product2.Division__c like '%ns%'  OR Product2.Product_Platform__c like '%ns%' ) Order by Product2.Division__c Limit 10

03:18:23.0 (74445536)|USER_DEBUG|[1828]|DEBUG|The final query that ran Select Name,Id,Pricebook2Id,Product2Id, Product2.Family, Product2.Name, Product2.Product_Group__c, Product2.Division__c, Product2.Platform_Group__c, Product2.Product_Platform__c, Product2.Services__c, Product2.Hybrid_Cloud__c,Product2.Pipeline_Product_Group__c from PriceBookEntry where IsActive = true AND Product2.IsSFA_PRM_Product__c = true AND priceBook2.isStandard = false AND Product2.Product_Platform__c != null AND CurrencyISOCode = 'USD'AND Pricebook2Id = '01s80000000dGO5AAM' AND ( Product2.Platform_Group__c like '%nsx%'  OR Product2.Product_Group__c like '%nsx%'  OR Product2.Division__c like '%nsx%'  OR Product2.Product_Platform__c like '%nsx%' ) Order by Product2.Division__c Limit 10

03:18:23.0 (307170077)|USER_DEBUG|[1828]|DEBUG|The final query that ran Select Name,Id,Pricebook2Id,Product2Id, Product2.Family, Product2.Name, Product2.Product_Group__c, Product2.Division__c, Product2.Platform_Group__c, Product2.Product_Platform__c, Product2.Services__c, Product2.Hybrid_Cloud__c,Product2.Pipeline_Product_Group__c from PriceBookEntry where IsActive = true AND Product2.IsSFA_PRM_Product__c = true AND priceBook2.isStandard = false AND Product2.Product_Platform__c != null AND CurrencyISOCode = 'USD'AND Pricebook2Id = '01s80000000dGO5AAM' AND ( Product2.Platform_Group__c like '%nsx%'  OR Product2.Product_Group__c like '%nsx%'  OR Product2.Division__c like '%nsx%'  OR Product2.Product_Platform__c like '%nsx%' ) Order by Product2.Division__c Limit 10


ACTUAL QUERY::
The final query that ran 
Select Name,Id,Pricebook2Id,Product2Id, Product2.Family, 
Product2.Name, Product2.Product_Group__c, Product2.Division__c, Product2.Platform_Group__c, 
Product2.Product_Platform__c, Product2.Services__c, Product2.Hybrid_Cloud__c,Product2.Pipeline_Product_Group__c 
from PriceBookEntry where IsActive = true AND Product2.IsSFA_PRM_Product__c = true AND priceBook2.isStandard = false 
AND Product2.Product_Platform__c != null 
AND CurrencyISOCode = 'USD'AND Pricebook2Id = '01s80000000dGO5AAM' 
AND ( Product2.Platform_Group__c like '%nsx%'  OR Product2.Product_Group__c like '%nsx%'  
OR Product2.Division__c like '%nsx%'  OR Product2.Product_Platform__c like '%nsx%' ) Order by Product2.Division__c Limit 10



Select 
Name,
Id,
Pricebook2Id,
Product2Id, 
Product2.Family, 
Product2.Name, 
Product2.Product_Group__c, 
Product2.Division__c, 
Product2.Platform_Group__c, 
Product2.Product_Platform__c, 
Product2.Services__c, 
Product2.Hybrid_Cloud__c,
Product2.Pipeline_Product_Group__c 
from 
PriceBookEntry 
where 
IsActive = true 
AND 
Product2.IsSFA_PRM_Product__c = true 
AND 
priceBook2.isStandard = false 
AND 
Product2.Product_Platform__c != null 
AND 
CurrencyISOCode = 'USD'
AND
Pricebook2Id = '01s80000000dGO5AAM' 
AND 
(
	Product2.Platform_Group__c like '%nsx%'  
	OR 
	Product2.Product_Group__c like '%nsx%' 
	OR 
	Product2.Division__c like '%nsx%'  
	OR 
	Product2.Product_Platform__c like '%nsx%'
) 
Order by Product2.Division__c
LIMIT 10



product2ID = '01t0n000001XHeh' not in results of query:
coz 
IsSFA_PRM_Product__c FALSE, AND
not in the Pricebook: SFA PRM Price Book that is associated with Opportunity. 
// main point //


Select 
Name,
Id,
Pricebook2Id,
Product2Id, 
Product2.Family, 
Product2.Name, 
Product2.Product_Group__c, 
Product2.Division__c, 
Product2.Platform_Group__c, 
Product2.Product_Platform__c, 
Product2.Services__c, 
Product2.Hybrid_Cloud__c,
Product2.Pipeline_Product_Group__c 
from 
PriceBookEntry 
where 
IsActive = true 
AND 
Product2.IsSFA_PRM_Product__c = true 
AND 
priceBook2.isStandard = false 
AND 
Product2.Product_Platform__c != null 
AND 
CurrencyISOCode = 'USD'
AND
Pricebook2Id = '01s80000000dGO5AAM' 
AND 
(
	Product2.Platform_Group__c like '%nsx%'  
	OR 
	Product2.Product_Group__c like '%nsx%' 
	OR 
	Product2.Division__c like '%nsx%'  
	OR 
	Product2.Product_Platform__c like '%nsx%'
)
AND product2ID = '01t0n000001XHeh'
Order by Product2.Division__c
LIMIT 10

RESULT: 
Sorry, no records returned.













this is great


Select 
Id,
Product2Id

from 
PriceBookEntry 
where 
IsActive = true 
AND 
Product2.IsSFA_PRM_Product__c = true 
AND 
priceBook2.isStandard = false 
AND 
Product2.Product_Platform__c != null 
AND 
CurrencyISOCode = 'USD'
AND 
(
	Product2.Platform_Group__c like '%nsx%'  
	OR 
	Product2.Product_Group__c like '%nsx%' 
	OR 
	Product2.Division__c like '%nsx%'  
	OR 
	Product2.Product_Platform__c like '%nsx%'
)