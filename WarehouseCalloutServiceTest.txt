@isTest
public class WarehouseCalloutServiceTest
{

    @testSetup
    static void makeTheData()
    {
        Product2 prodTest = new Product2();
        prodTest.Warehouse_SKU__c = '55d66226726b61oasd7897sadpaksdq09842';
        prodTest.Name = 'New Product 1000';
    }
    public static testmethod void methodToCallOut()
    {
        Test.setMock(HttpCalloutMock.class, new WarehouseCalloutServiceMock());
        
        Test.StartTest();
        WarehouseCalloutService.runWarehouseEquipmentSync();
        Test.StopTest();        
        
        Product2 prodAfterSync = [SELECT Replacement_Part__c, Current_Inventory__c, Name, Maintenance_Cycle__c, Lifespan_Months__c, Cost__c, StockKeepingUnit, Warehouse_SKU__c
                                  FROM Product2];
        
        System.assertEquals(prodAfterSync.Name, 'The new Test Name');
        System.assertEquals(prodAfterSync.Replacement_Part__c, true);
        System.assertEquals(prodAfterSync.Current_Inventory__c, 300);
        System.assertEquals(prodAfterSync.Maintenance_Cycle__c, 0);
        System.assertEquals(prodAfterSync.Lifespan_Months__c, 0);
        System.assertEquals(prodAfterSync.Cost__c, 5);
        System.assertEquals(prodAfterSync.StockKeepingUnit, '112233');
    }
}