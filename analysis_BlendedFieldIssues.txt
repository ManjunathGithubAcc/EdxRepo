addOpportunityProductController


Opportunity :
214: 		
opp = [select id, Pricebook2Id,CurrencyISOCode, Amount,NSX_Use_Case__c, Business_Line__c, closeDate,HasOpportunityLineItem, 
Show_Warning__c, Rebate_Adjustment_Roll_Up__c,
RecordTypeID,StageName,Route_to_Market__c,CreatedDate from opportunity where id=:tempOppId];


496:
Opportunity oppr1 = [ SELECT Id, VMWProductLine__c, AW_Product_Total__c FROM Opportunity WHERE Id = :opp.Id ];  

1498:
List<Opportunity> opptyList = [select id, Business_Line__c from Opportunity where id =: oppLineItemInsertList[0].OpportunityId];



OpportunityLineItem
2188
OpportunityLineItem opl = [Select PriceBookEntryId,Quantity,UnitPrice,Opportunity.Id,Quantity__c,   
                                    Duration_Months__c,Monthly_Revenue__c,Product2.Family,
                                   Service_Type__c,Opportunity_Type__c,Payment_Type__c,Datacenter_Region__c,Data_Load_Service__c,Amount__c,
                                   Product2Id, product2.Services__c, product2.Hybrid_Cloud__c, product2.Platform_Group__c, product2.Product_Platform__c 
                                   ,ACV_Amount__c, TCV_Amount__c,CSP_Order_ID__c, Before_Rebate_Amount__c,Product2.Pipeline_Product_Group__c,VMStar_Category__c,VMStar_Product_Link_Id__c,Service_ID__c
                                   From OpportunityLineItem Where Id=:oplId];

			
2154			
List<OpportunityLineItem> opls = [Select PricebookEntryId From OpportunityLineItem Where PricebookEntry.Product2.IsSFA_PRM_Product__c=true AND 
                                          PricebookEntry.Product2.IsActive=true AND Product2.IsSFA_PRM_Product__c = true AND PricebookEntry.priceBook2.isStandard=false AND CurrencyISOCode =: opp.CurrencyISOCode Order By CreatedDate DESC Limit 100];								   
										  
										  
2114										  
opls = [Select PricebookEntryId From OpportunityLineItem Where PricebookEntry.Product2.IsSFA_PRM_Product__c=true AND 
                                          PricebookEntry.Product2.IsActive=true AND Product2.IsSFA_PRM_Product__c = true AND PricebookEntry.priceBook2.isStandard = false AND CurrencyISOCode =: opp.CurrencyISOCode AND CreatedDate = LAST_N_DAYS:1 Order By CreatedDate ];										  
										  
										  
2110
         opls = [Select PricebookEntryId From OpportunityLineItem Where PricebookEntry.Product2.IsSFA_PRM_Product__c=true AND PricebookEntry.Product2.IsActive=true AND Product2.IsSFA_PRM_Product__c = true AND PricebookEntry.priceBook2.isStandard=false  AND CurrencyISOCode =: opp.CurrencyISOCode AND  PricebookEntry.Product2.Product_Platform__c IN :prdPlatfrm AND CreatedDate = LAST_N_DAYS:1 Order By CreatedDate];                         										  


2064
opls = [Select PricebookEntryId From OpportunityLineItem Where CreatedById=:UserInfo.getUserId() AND 
                                          PricebookEntry.Product2.IsSFA_PRM_Product__c=true AND PricebookEntry.Product2.IsActive=true 
                                          AND PricebookEntry.priceBook2.isStandard=false  AND CurrencyISOCode =: opp.CurrencyISOCode ORDER BY CreatedDate DESC Limit 100];   		 
										  
										  
										  
										  
2060
opls = [Select PricebookEntryId From OpportunityLineItem Where CreatedById=:UserInfo.getUserId() AND PricebookEntry.Product2.IsSFA_PRM_Product__c=true AND PricebookEntry.Product2.IsActive=true AND PricebookEntry.priceBook2.isStandard=false  AND CurrencyISOCode =: opp.CurrencyISOCode AND  PricebookEntry.Product2.Product_Platform__c IN :prdPlatfrm ORDER BY CreatedDate DESC Limit 100];                         


1558
listOpportunityLineItem = [Select ID, OpportunityId, Amount__c, ACV_Amount__c, SNS__c, SNS_Percent__c, 
					SNS_Amount__c, UnitPrice, Flat_Rebate_Record_Id__c, Quantity__c,Duration_Months__c, Product2.Family,
					Monthly_Revenue__c,Product2.Pipeline_Product_Group__c, Applied_Flat_Rebate__c, Flat_Rebate_Applied__c, VMStar_Category__c,
					Before_Rebate_Amount__c,VMStar_Product_Link_Id__c,Service_ID__c from OpportunityLineItem 
					where OpportunityId =:opp.Id];



859
opplineItemSynList = [Select id,VMStar_Product_Link_Id__c,Specialist_SNS_Amount__c,SNS_Amount__c,SyncProduct__c,Specialist_Amount__c,Amount__c from OpportunityLineItem where VMStar_Product_Link_Id__c =:tempProdWrap.oppLineItem.VMStar_Product_Link_Id__c and VMStar_Category__c =: System.Label.SNS_Label and OpportunityId=:OpptyId];



538:
for(OpportunityLineItem optLineItem : [select id, Prod_Specialist__r.Name, Amount__c,UnitPrice , Associated_Platform_Group__c,TotalPrice, SNS_Percent__c,Opportunity_Type__c,Payment_Type__c, Service_Type__c, Monthly_Revenue__c , of_Packs__c, Datacenter_Region__c, Data_load_service__c, Duration_Months__c, Quantity__c, SNS__c, SNS_Amount__c,  OpportunityId, PricebookEntryId, Product2Id, product2.Services__c, product2.Hybrid_Cloud__c, product2.Platform_Group__c, product2.Product_Platform__c,Product2.Pipeline_Product_Group__c, Product2.Family, ACV_Amount__c,TCV_Amount__c,CSP_Order_ID__c, Before_Rebate_Amount__c,Specialist_Amount__c,SyncProduct__c,VMStar_Category__c,VMStar_Product_Link_Id__c,ByPass_Trigger__c,Service_Start_Date__c,Service_ID__c from OpportunityLineItem where OpportunityId =:opp.Id  order by VMStar_Product_Link_Id__c ASC NULLS LAST, VMStar_Category__c ASC, CreatedDate ASC]){



468:
for(OpportunityLineItem optLineItem1 : [select id,Prod_Specialist__r.Name, Amount__c, UnitPrice , Associated_Platform_Group__c,TotalPrice, SNS_Percent__c,Opportunity_Type__c,Payment_Type__c, Service_Type__c, Monthly_Revenue__c , of_Packs__c, Datacenter_Region__c, Data_load_service__c, Duration_Months__c, Quantity__c, SNS__c, SNS_Amount__c,  OpportunityId, PricebookEntryId, Product2Id, product2.Services__c, product2.Hybrid_Cloud__c, product2.Product_Group__c, product2.Platform_Group__c, product2.Product_Platform__c, Product2.Family, Product2.Pipeline_Product_Group__c,ACV_Amount__c,TCV_Amount__c,CSP_Order_ID__c,Before_Rebate_Amount__c,VMStar_Category__c,VMStar_Product_Link_Id__c,Service_ID__c from OpportunityLineItem where OpportunityId =:opp.Id ])		